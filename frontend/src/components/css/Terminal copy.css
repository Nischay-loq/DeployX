Base styles for the entire page and root element
html, body, #root {
    height: 100%;
    margin: 0;
    padding: 0;
    /* Use a monospaced font for terminal consistency */
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    overflow: hidden; /* Prevent body scroll if terminal takes full height */
}

/* Main container for the terminal window */
.terminal-container {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 40px); /* Adjust height to account for 20px top/bottom margin */
    max-width: 1200px;
    margin: 20px auto; /* 20px spacing at top and bottom, auto for horizontal centering */
    background: #1e1e1e; /* Default dark background */
    border-radius: 8px; /* Rounded corners for the terminal window */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* Soft shadow for depth */
    overflow: hidden; /* Ensure content stays within rounded corners */
    transition: background-color 0.3s ease; /* Smooth transition for theme changes */
}

/* Header and Footer styles - common for all themes */
.terminal-header,
.terminal-footer {
    flex-shrink: 0; /* Prevent shrinking */
    padding: 10px 15px;
    background: #2d2d2d; /* Slightly lighter dark background for header/footer */
    border-bottom: 1px solid #444; /* Separator line */
    color: #ccc; /* Light grey text */
    font-size: 14px;
    font-weight: 500;
    display: flex;
    align-items: center;
}

.terminal-footer {
    border-top: 1px solid #444; /* Separator line for footer */
    border-bottom: none; /* No bottom border for footer */
    font-size: 12px;
    justify-content: center; /* Center text in footer */
    color: #888; /* Dimmer text for instructions */
}

/* Terminal window control buttons */
.terminal-buttons {
    display: flex;
    gap: 8px; /* Space between buttons */
    margin-right: 15px;
}

.button {
    width: 12px;
    height: 12px;
    border-radius: 50%; /* Circular buttons */
}

/* Specific button colors */
.button.close { background: #ff5f56; } /* Red */
.button.minimize { background: #ffbd2e; } /* Yellow */
.button.maximize { background: #27ca3f; } /* Green */

/* Terminal title */
.terminal-title {
    flex-grow: 1; /* Allows title to take available space */
    text-align: center; /* Center the title */
}

/* Shell selector dropdown styling */
.shell-selector {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-left: auto; /* Push to the right */
}

.shell-selector label {
    font-size: 14px;
    color: #ccc;
}

.shell-selector select {
    /* Tailwind classes from React component are handled by Tailwind CSS */
    /* If not using Tailwind, add manual styles here: */
    /* background-color: #444; */
    /* color: #fff; */
    /* border: 1px solid #666; */
    /* border-radius: 4px; */
    /* padding: 4px 8px; */
    /* font-size: 13px; */
    /* cursor: pointer; */
}


/* Terminal body - where output and input are displayed */
.terminal-body {
    flex-grow: 1; /* Takes remaining vertical space */
    background: #1e1e1e; /* Default background */
    position: relative;
    cursor: text; /* Text cursor on hover */
    outline: none; /* Remove default focus outline */
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Hide scrollbar from body, handled by content */
    padding: 15px;
}

/* Terminal content area (for output) */
.terminal-content {
    flex-grow: 1; /* Fills vertical space */
    overflow-y: auto; /* Enable vertical scrolling */
    color: #00ff00; /* Default green text */
    font-size: 14px;
    line-height: 1.4;
    white-space: pre-wrap; /* Preserve whitespace and wrap long lines */
    word-wrap: break-word; /* Break long words */
    text-align: left;
    padding-right: 5px; /* Space for scrollbar */
}

/* Individual output lines */
.output-line {
    margin: 0 0 4px 0; /* Space between lines */
    text-align: left;
    word-wrap: break-word;
}

.output-line pre {
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
    padding: 0;
    text-align: left;
}

/* Specific output line types */
.output-line.system { color: #ffff00; } /* Yellow for system messages */
.output-line.error { color: #ff4444; } /* Red for error messages */
.output-line.input {
    color: #fff; /* White for user input */
    background: rgba(255, 255, 255, 0.05); /* Slightly transparent background */
    padding: 1px 4px;
    margin: 1px 0;
    border-left: 2px solid #00ff00; /* Green border for input lines */
}

/* Current input line (where user types) */
.current-input-line {
    display: flex;
    align-items: baseline; /* Align text baselines */
    color: #fff; /* Default white text */
    margin-top: 4px;
    width: 100%;
    user-select: none; /* Prevent text selection on prompt/input line */
}

/* Prompt text */
.prompt {
    color: #00aaff; /* Blue for prompt */
    font-weight: bold;
    margin-right: 4px;
    font-size: 14px;
    flex-shrink: 0; /* Prevent prompt from shrinking */
    white-space: nowrap; /* Keep prompt on one line */
}

/* Input text parts (before, at, and after cursor) */
.input-text {
    flex: 1; /* Allows input text to take remaining space */
    position: relative;
    font-size: 14px;
    line-height: 1.4;
    min-width: 0; /* Allows text to wrap if container is too narrow */
    white-space: pre-wrap; /* Preserve whitespace and wrap */
}

.before-cursor,
.after-cursor {
    color: #fff; /* White text */
    white-space: pre; /* Preserve spaces for correct cursor positioning */
}

/* Cursor styling and animation */
.cursor {
    background-color: #00ff00; /* Green background for cursor */
    color: #1e1e1e; /* Dark text color for contrast on cursor */
    animation: blink 1s infinite; /* Blinking animation */
    position: relative;
    white-space: pre; /* Preserve space for cursor */
    min-width: 1px; /* Ensure cursor is visible even for empty space */
}

/* Hidden input field for capturing key presses */
.hidden-input {
    position: absolute; /* Position off-screen */
    left: -9999px;
    opacity: 0; /* Make it invisible */
    pointer-events: none; /* Prevent it from interfering with mouse events */
}

/* Custom scrollbar styling for Webkit browsers */
.terminal-content::-webkit-scrollbar {
    width: 8px;
}

.terminal-content::-webkit-scrollbar-track {
    background: #1e1e1e;
}

.terminal-content::-webkit-scrollbar-thumb {
    background: #555;
    border-radius: 4px;
}

.terminal-content::-webkit-scrollbar-thumb:hover {
    background: #666;
}

/* Cursor blink animation */
@keyframes blink {
    0%, 50% {
        background-color: #00ff00;
        color: #1e1e1e;
    }
    51%, 100% {
        background-color: transparent;
        color: #00ff00;
    }
}

/* --- Theme-specific styles --- */

/* CMD Theme */
.cmd-theme {
    background: #000000; /* Black background */
}
.cmd-theme .terminal-header,
.cmd-theme .terminal-footer {
    background: #1a1a1a;
    border-color: #333;
}
.cmd-theme .terminal-content {
    color: #ffffff; /* White text */
}
.cmd-theme .prompt {
    color: #ffffff; /* White prompt */
}
.cmd-theme .cursor {
    background-color: #ffffff; /* White cursor */
    color: #000000; /* Black text on cursor */
}
.cmd-theme .output-line.input {
    border-left-color: #ffffff; /* White border for input */
}

/* PowerShell Theme */
.powershell-theme {
    background: #012456; /* Dark blue background */
}
.powershell-theme .terminal-header,
.powershell-theme .terminal-footer {
    background: #003366;
    border-color: #004488;
}
.powershell-theme .terminal-content {
    color: #f0f0f0; /* Light grey text */
}
.powershell-theme .prompt {
    color: #ffffff; /* White prompt */
}
.powershell-theme .cursor {
    background-color: #ffffff; /* White cursor */
    color: #012456; /* Dark blue text on cursor */
}
.powershell-theme .output-line.input {
    border-left-color: #ffffff; /* White border for input */
}

/* Bash Theme (default) */
.bash-theme {
    background: #1e1e1e; /* Dark grey background */
}
.bash-theme .terminal-header,
.bash-theme .terminal-footer {
    background: #2d2d2d;
    border-color: #444;
}
.bash-theme .terminal-content {
    color: #00ff00; /* Green text */
}
.bash-theme .prompt {
    color: #00aaff; /* Blue prompt */
}
.bash-theme .cursor {
    background-color: #00ff00; /* Green cursor */
    color: #1e1e1e; /* Dark grey text on cursor */
}
.bash-theme .output-line.input {
    border-left-color: #00ff00; /* Green border for input */
}


/* Responsive adjustments for smaller screens */
@media (max-width: 768px) {
    .terminal-container {
        width: 95%; /* Slightly smaller width */
        margin: 10px auto; /* Reduced margin */
        border-radius: 0; /* No rounded corners on small screens for full width */
        height: calc(100vh - 20px); /* Adjust height for new margin */
    }

    .terminal-body {
        padding: 10px; /* Reduced padding */
    }

    .terminal-content {
        font-size: 13px; /* Smaller font size */
    }

    .prompt, .input-text {
        font-size: 13px; /* Smaller font size for input */
    }

    .terminal-header, .terminal-footer {
        padding: 8px 10px; /* Smaller padding for header/footer */
    }

    .terminal-title {
        font-size: 13px;
    }

    .shell-selector {
        font-size: 12px;
    }
}

